<div fxFlex="75%">
  <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <button mat-raised-button
                [disabled]="!recipeForm.valid"
                type="submit"
                color="primary">
          {{editMode ? 'Edit' : 'Add'}} Recipe
        </button>
        <button mat-raised-button
                type="button"
                (click)="onCancel()"
                color="accent">
          Cancel
        </button>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <mat-form-field>
          <input matInput
                 type='text'
                 id="name"
                 formControlName="name"
                 placeholder="Name">
        </mat-form-field>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <mat-form-field>
          <input matInput
                 type='text'
                 id="imagepath"
                 #imgSource
                 formControlName="imagePath"
                 placeholder="Image Path">
        </mat-form-field>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <img style="max-width: 200px" [src]="imgSource.value" alt="Image here!">
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <mat-form-field>
          <textarea matInput
                    name="desc"
                    id="descriptiion"
                    formControlName="description"
                    type='text'
                    rows="6"
                    placeholder="Description"></textarea>
        </mat-form-field>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <h3>Ingredients:</h3>
      </div>
    </div>

    <div formArrayName="ingredients">

      <div fxLayout="row" fxLayout="row" *ngFor="let ingredientCtrl of recipeForm.get('ingredients').controls; let i = index;" [formGroupName]="i">

        <div fxFlex="60%">
          <mat-form-field>
            <input matInput
                   type='text'
                   formControlName="name"
                   placeholder="Ingredient name">
          </mat-form-field>
        </div>

        <div fxFlex="30%">
          <mat-form-field>
            <input matInput
                   formControlName="amount"
                   type='text'
                   placeholder="Amount">
          </mat-form-field>
        </div>

        <div fxFlex="10%">
          <button mat-raised-button
                  type="button"
                  (click)="removeIngredient(i)"
                  color="accent">
            Remove
          </button>
        </div>

      </div>
    </div>

    <hr>
    <div fxLayout="row" fxLayout.xs="column">
      <div fxFlex="100%">
        <button mat-raised-button
                type="button"
                (click)="addIngredient()"
                color="primary">
          Add Ingredient
        </button>
      </div>
    </div>

  </form>

</div>
